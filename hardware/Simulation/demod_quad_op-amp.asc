Version 4
SHEET 1 3092 880
WIRE -928 -784 -992 -784
WIRE -800 -784 -864 -784
WIRE -160 -768 -224 -768
WIRE -32 -768 -96 -768
WIRE -2288 -720 -2288 -752
WIRE -1936 -688 -2000 -688
WIRE -1760 -688 -1856 -688
WIRE -1584 -688 -1664 -688
WIRE -992 -688 -992 -784
WIRE -928 -688 -992 -688
WIRE -800 -688 -800 -784
WIRE -800 -688 -864 -688
WIRE -224 -672 -224 -768
WIRE -160 -672 -224 -672
WIRE -32 -672 -32 -768
WIRE -32 -672 -96 -672
WIRE -2288 -608 -2288 -640
WIRE -2288 -608 -2384 -608
WIRE -2240 -608 -2288 -608
WIRE -1712 -592 -1712 -624
WIRE -2288 -576 -2288 -608
WIRE -2384 -560 -2384 -608
WIRE -992 -560 -992 -688
WIRE -928 -560 -992 -560
WIRE -800 -560 -800 -688
WIRE -800 -560 -864 -560
WIRE -224 -544 -224 -672
WIRE -160 -544 -224 -544
WIRE -32 -544 -32 -672
WIRE -32 -544 -96 -544
WIRE -1712 -480 -1712 -512
WIRE -2384 -464 -2384 -496
WIRE -2288 -464 -2288 -496
WIRE -992 -464 -992 -560
WIRE -944 -464 -992 -464
WIRE -800 -464 -800 -560
WIRE -800 -464 -864 -464
WIRE -224 -448 -224 -544
WIRE -176 -448 -224 -448
WIRE -32 -448 -32 -544
WIRE -32 -448 -96 -448
WIRE -912 -304 -912 -336
WIRE -1216 -288 -1264 -288
WIRE -1120 -288 -1152 -288
WIRE -992 -288 -992 -464
WIRE -992 -288 -1040 -288
WIRE -944 -288 -992 -288
WIRE -144 -288 -144 -320
WIRE -800 -272 -800 -464
WIRE -800 -272 -880 -272
WIRE -752 -272 -800 -272
WIRE -464 -272 -528 -272
WIRE -352 -272 -400 -272
WIRE -224 -272 -224 -448
WIRE -224 -272 -272 -272
WIRE -176 -272 -224 -272
WIRE -944 -256 -976 -256
WIRE -32 -256 -32 -448
WIRE -32 -256 -112 -256
WIRE 32 -256 -32 -256
WIRE -176 -240 -208 -240
WIRE -912 -208 -912 -240
WIRE -144 -192 -144 -224
WIRE -2400 16 -2400 -64
WIRE -2240 16 -2240 -64
WIRE -2080 16 -2080 -64
WIRE -1920 16 -1920 -64
WIRE -1760 16 -1760 -64
WIRE -1616 16 -1616 -64
WIRE -144 96 -144 -32
WIRE -176 112 -240 112
WIRE -16 128 -112 128
WIRE 16 128 -16 128
WIRE -176 144 -240 144
WIRE -2400 160 -2400 96
WIRE -2240 160 -2240 96
WIRE -2080 160 -2080 96
WIRE -1920 160 -1920 96
WIRE -1760 160 -1760 96
WIRE -1616 160 -1616 96
WIRE -368 192 -432 192
WIRE -240 192 -240 144
WIRE -240 192 -288 192
WIRE -176 192 -240 192
WIRE -16 192 -16 128
WIRE -16 192 -96 192
WIRE 48 192 -16 192
WIRE -16 240 -16 192
WIRE 48 256 48 192
WIRE -144 368 -144 160
WIRE -16 368 -16 320
WIRE 48 368 48 320
FLAG -2400 160 0
FLAG -2400 -64 Supply
FLAG -1760 160 0
FLAG -1760 -64 CmdInv
FLAG -752 -272 Amp1
FLAG -1616 -64 Signal
FLAG -1616 160 0
FLAG -2240 160 0
FLAG -2240 -64 PulseReader
FLAG -2080 160 0
FLAG -2080 -64 PulseTag
FLAG -1920 160 0
FLAG -1920 -64 Pulse
FLAG -912 -208 0
FLAG -912 -336 Supply
FLAG -976 -256 CM
FLAG 32 -256 Amp2
FLAG -144 -192 0
FLAG -144 -320 Supply
FLAG -208 -240 CM
FLAG -2000 -688 Signal
FLAG -144 368 0
FLAG -144 -32 Supply
FLAG 16 128 Comp
FLAG -432 192 Amp2
FLAG -240 112 CM
FLAG -528 -272 Amp1
FLAG -1712 -480 CmdInv
FLAG -1584 -688 Switched
FLAG -16 368 0
FLAG 48 368 0
FLAG -2288 -752 Supply
FLAG -2288 -464 0
FLAG -2240 -608 CM
FLAG -1264 -288 Switched
FLAG -2384 -464 0
SYMBOL voltage -2400 0 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 3
SYMBOL voltage -1760 0 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 70 -90 VRight 2
SYMATTR Value PULSE(5 0 {Pad-150n} 100n 100n {NReader*PReader-PReader/2+100n})
SYMATTR InstName V3
SYMBOL bv -1616 0 R0
WINDOW 3 84 -226 VRight 2
SYMATTR Value V=V(Pulse)+0.005*white(10e6*time)
SYMATTR InstName B1
SYMBOL voltage -2240 0 R0
WINDOW 3 89 -171 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(1 5m {Pad} 10n 10n {PReader/2} {PReader} {NReader})
SYMATTR InstName V4
SYMBOL voltage -2080 0 R0
WINDOW 3 89 -171 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5m {Pad+NReader*PReader-PReader/2+Sep} 10n 10n {(1/FTag)/2} {1/FTag} {NTag})
SYMATTR InstName V5
SYMBOL bv -1920 0 R0
WINDOW 3 81 -166 Invisible 2
SYMATTR Value V=V(PulseReader)+V(PulseTag)
SYMATTR InstName B2
SYMBOL res -1024 -304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL cap -1152 -304 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 10n
SYMBOL res -848 -480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 18k
SYMBOL res -256 -288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res -80 -464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 18k
SYMBOL cap -96 -560 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 100p
SYMBOL cap -464 -256 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C7
SYMATTR Value 10n
SYMBOL res -272 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 18k
SYMBOL res -80 176 R90
WINDOW 0 85 49 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 330k
SYMBOL Opamps/opamp2 -912 -336 R0
SYMATTR InstName U3
SYMATTR Value TL972
SYMBOL Opamps/opamp2 -144 -320 R0
SYMATTR InstName U2
SYMATTR Value TL972
SYMBOL Opamps/opamp2 -144 64 R0
SYMATTR InstName U4
SYMATTR Value TL972
SYMBOL cap -864 -576 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 100p
SYMBOL res -1696 -608 M0
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL npn -1664 -624 M270
SYMATTR InstName Q1
SYMATTR Value BC547B
SYMBOL diode -96 -688 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 42 30 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMATTR Description Light Emitting Diode
SYMATTR Type led
SYMBOL diode -160 -752 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMATTR Description Light Emitting Diode
SYMATTR Type led
SYMBOL diode -864 -704 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 42 30 VTop 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMATTR Description Light Emitting Diode
SYMATTR Type led
SYMBOL diode -928 -768 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMATTR Description Light Emitting Diode
SYMATTR Type led
SYMBOL res 0 336 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL cap 64 320 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C3
SYMATTR Value 1p
SYMBOL res -2272 -480 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res -2272 -624 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL res -1840 -704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 100
SYMBOL cap -2368 -496 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C4
SYMATTR Value 100n
TEXT -2400 -272 Left 2 !.tran {Pad+NReader*PReader+Sep+NTag/FTag+Pad}
TEXT -2400 -320 Left 2 !.param Pad=100u Sep=30u PReader=20u FTag=50k NReader=5 NTag=10
TEXT -2400 -224 Left 2 !.include models/TL972.lib
