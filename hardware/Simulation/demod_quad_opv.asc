Version 4
SHEET 1 3092 880
WIRE 288 -752 224 -752
WIRE 416 -752 352 -752
WIRE 224 -656 224 -752
WIRE 288 -656 224 -656
WIRE 416 -656 416 -752
WIRE 416 -656 352 -656
WIRE -480 -544 -544 -544
WIRE -352 -544 -416 -544
WIRE 224 -528 224 -656
WIRE 288 -528 224 -528
WIRE 416 -528 416 -656
WIRE 416 -528 352 -528
WIRE -544 -448 -544 -544
WIRE -496 -448 -544 -448
WIRE -352 -448 -352 -544
WIRE -352 -448 -416 -448
WIRE 224 -432 224 -528
WIRE 272 -432 224 -432
WIRE 416 -432 416 -528
WIRE 416 -432 352 -432
WIRE -464 -288 -464 -320
WIRE -1040 -272 -1152 -272
WIRE -864 -272 -944 -272
WIRE -768 -272 -864 -272
WIRE -672 -272 -704 -272
WIRE -544 -272 -544 -448
WIRE -544 -272 -592 -272
WIRE -496 -272 -544 -272
WIRE 304 -272 304 -304
WIRE -352 -256 -352 -448
WIRE -352 -256 -432 -256
WIRE -304 -256 -352 -256
WIRE -16 -256 -80 -256
WIRE 96 -256 48 -256
WIRE 224 -256 224 -432
WIRE 224 -256 176 -256
WIRE 272 -256 224 -256
WIRE -496 -240 -528 -240
WIRE 416 -240 416 -432
WIRE 416 -240 336 -240
WIRE 480 -240 416 -240
WIRE 272 -224 240 -224
WIRE -464 -192 -464 -224
WIRE -992 -176 -992 -208
WIRE 304 -176 304 -208
WIRE -992 -64 -992 -96
WIRE -2400 16 -2400 -64
WIRE -2240 16 -2240 -64
WIRE -2080 16 -2080 -64
WIRE -1920 16 -1920 -64
WIRE -1760 16 -1760 -64
WIRE -1616 16 -1616 -64
WIRE -1296 16 -1296 -64
WIRE 304 112 304 0
WIRE 272 128 208 128
WIRE 432 144 336 144
WIRE 464 144 432 144
WIRE -2400 160 -2400 96
WIRE -2240 160 -2240 96
WIRE -2080 160 -2080 96
WIRE -1920 160 -1920 96
WIRE -1760 160 -1760 96
WIRE -1616 160 -1616 96
WIRE -1296 160 -1296 96
WIRE 272 160 208 160
WIRE 80 208 16 208
WIRE 208 208 208 160
WIRE 208 208 160 208
WIRE 272 208 208 208
WIRE 432 208 432 144
WIRE 432 208 352 208
WIRE 432 256 432 208
WIRE 304 384 304 176
WIRE 432 384 432 320
FLAG -2400 160 0
FLAG -2400 -64 Supply
FLAG -1760 160 0
FLAG -1760 -64 CmdInv
FLAG -304 -256 Amp1
FLAG -1616 -64 Signal
FLAG -1616 160 0
FLAG -2240 160 0
FLAG -2240 -64 PulseReader
FLAG -2080 160 0
FLAG -2080 -64 PulseTag
FLAG -1920 160 0
FLAG -1920 -64 Pulse
FLAG -464 -192 0
FLAG -464 -320 Supply
FLAG -528 -240 CM
FLAG 480 -240 Amp2
FLAG 304 -176 0
FLAG 304 -304 Supply
FLAG 240 -224 CM
FLAG -1152 -272 Signal
FLAG 304 384 0
FLAG 304 0 Supply
FLAG 464 144 Comp
FLAG 16 208 Amp2
FLAG 208 128 CM
FLAG -80 -256 Amp1
FLAG -992 -64 CmdInv
FLAG -864 -272 Switched
FLAG 432 384 0
FLAG -1296 160 0
FLAG -1296 -64 CM
SYMBOL voltage -2400 0 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -1760 0 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 70 -90 VRight 2
SYMATTR Value PULSE(5 0 {Pad-150n} 100n 100n {NReader*PReader-PReader/2+100n})
SYMATTR InstName V3
SYMBOL bv -1616 0 R0
WINDOW 3 84 -226 VRight 2
SYMATTR Value V=V(Pulse)+0.005*white(10e6*time)
SYMATTR InstName B1
SYMBOL voltage -2240 0 R0
WINDOW 3 89 -171 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(1 5m {Pad} 10n 10n {PReader/2} {PReader} {NReader})
SYMATTR InstName V4
SYMBOL voltage -2080 0 R0
WINDOW 3 89 -171 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5m {Pad+NReader*PReader-PReader/2+Sep} 10n 10n {(1/FTag)/2} {1/FTag} {NTag})
SYMATTR InstName V5
SYMBOL bv -1920 0 R0
WINDOW 3 81 -166 Invisible 2
SYMATTR Value V=V(PulseReader)+V(PulseTag)
SYMATTR InstName B2
SYMBOL res -576 -288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL cap -704 -288 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 100n
SYMBOL res -400 -464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 18k
SYMBOL res 192 -272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res 368 -448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 18k
SYMBOL cap 352 -544 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 100p
SYMBOL cap -16 -240 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C7
SYMATTR Value 3.3n
SYMBOL res 176 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 18k
SYMBOL res 368 192 R90
WINDOW 0 85 49 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 330k
SYMBOL Opamps/opamp2 -464 -320 R0
SYMATTR InstName U3
SYMATTR Value TL972
SYMBOL Opamps/opamp2 304 -304 R0
SYMATTR InstName U2
SYMATTR Value TL972
SYMBOL Opamps/opamp2 304 80 R0
SYMATTR InstName U4
SYMATTR Value TL972
SYMBOL cap -416 -560 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 100p
SYMBOL res -976 -192 M0
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL npn -944 -208 M270
SYMATTR InstName Q1
SYMATTR Value BC547B
SYMBOL diode 352 -672 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 42 30 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMATTR Description Light Emitting Diode
SYMATTR Type led
SYMBOL diode 288 -736 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMATTR Description Light Emitting Diode
SYMATTR Type led
SYMBOL cap 448 320 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C4
SYMATTR Value 1p
SYMBOL voltage -1296 0 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 3
TEXT -2400 -272 Left 2 !.tran {Pad+NReader*PReader+Sep+NTag/FTag+Pad}
TEXT -2400 -320 Left 2 !.param Pad=100u Sep=30u PReader=20u FTag=50k NReader=5 NTag=10
TEXT -2400 -224 Left 2 !.include models/TL972.lib
