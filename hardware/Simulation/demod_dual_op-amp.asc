Version 4
SHEET 1 3092 880
WIRE -480 -544 -544 -544
WIRE -352 -544 -416 -544
WIRE -544 -448 -544 -544
WIRE -496 -448 -544 -448
WIRE -352 -448 -352 -544
WIRE -352 -448 -416 -448
WIRE 256 -352 256 -480
WIRE 224 -336 160 -336
WIRE 384 -320 288 -320
WIRE 416 -320 384 -320
WIRE 224 -304 160 -304
WIRE -464 -288 -464 -320
WIRE -1216 -272 -1280 -272
WIRE -1040 -272 -1136 -272
WIRE -864 -272 -944 -272
WIRE -768 -272 -864 -272
WIRE -672 -272 -704 -272
WIRE -544 -272 -544 -448
WIRE -544 -272 -592 -272
WIRE -496 -272 -544 -272
WIRE -352 -256 -352 -448
WIRE -352 -256 -432 -256
WIRE -304 -256 -352 -256
WIRE 32 -256 -32 -256
WIRE 160 -256 160 -304
WIRE 160 -256 112 -256
WIRE 224 -256 160 -256
WIRE 384 -256 384 -320
WIRE 384 -256 304 -256
WIRE 448 -256 384 -256
WIRE -496 -240 -528 -240
WIRE 384 -208 384 -256
WIRE -464 -192 -464 -224
WIRE 448 -192 448 -256
WIRE -992 -176 -992 -208
WIRE 256 -80 256 -288
WIRE 384 -80 384 -128
WIRE 448 -80 448 -128
WIRE -992 -64 -992 -96
WIRE -2400 16 -2400 -64
WIRE -2240 16 -2240 -64
WIRE -2080 16 -2080 -64
WIRE -1920 16 -1920 -64
WIRE -1760 16 -1760 -64
WIRE -1616 16 -1616 -64
WIRE -464 64 -464 32
WIRE -2400 160 -2400 96
WIRE -2240 160 -2240 96
WIRE -2080 160 -2080 96
WIRE -1920 160 -1920 96
WIRE -1760 160 -1760 96
WIRE -1616 160 -1616 96
WIRE -464 176 -464 144
WIRE -464 176 -560 176
WIRE -416 176 -464 176
WIRE -464 208 -464 176
WIRE -560 224 -560 176
WIRE -560 320 -560 288
WIRE -464 320 -464 288
FLAG -2400 160 0
FLAG -2400 -64 Supply
FLAG -1760 160 0
FLAG -1760 -64 CmdInv
FLAG -304 -256 Amp1
FLAG -1616 -64 Signal
FLAG -1616 160 0
FLAG -2240 160 0
FLAG -2240 -64 PulseReader
FLAG -2080 160 0
FLAG -2080 -64 PulseTag
FLAG -1920 160 0
FLAG -1920 -64 Pulse
FLAG -464 -192 0
FLAG -464 -320 Supply
FLAG -528 -240 CM
FLAG -1280 -272 Signal
FLAG 256 -80 0
FLAG 256 -480 Supply
FLAG 416 -320 Comp
FLAG -32 -256 Amp1
FLAG 160 -336 CM
FLAG -992 -64 CmdInv
FLAG -864 -272 Switched
FLAG 384 -80 0
FLAG 448 -80 0
FLAG -464 320 0
FLAG -416 176 CM
FLAG -464 32 Supply
FLAG -560 320 0
SYMBOL voltage -2400 0 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -1760 0 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 70 -90 VRight 2
SYMATTR Value PULSE(5 0 {Pad-150n} 100n 100n {NReader*PReader-PReader/2+100n})
SYMATTR InstName V3
SYMBOL bv -1616 0 R0
WINDOW 3 84 -226 VRight 2
SYMATTR Value V=V(Pulse)+0.005*white(10e6*time)
SYMATTR InstName B1
SYMBOL voltage -2240 0 R0
WINDOW 3 89 -171 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(1 5m {Pad} 10n 10n {PReader/2} {PReader} {NReader})
SYMATTR InstName V4
SYMBOL voltage -2080 0 R0
WINDOW 3 89 -171 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5m {Pad+NReader*PReader-PReader/2+Sep} 10n 10n {(1/FTag)/2} {1/FTag} {NTag})
SYMATTR InstName V5
SYMBOL bv -1920 0 R0
WINDOW 3 81 -166 Invisible 2
SYMATTR Value V=V(PulseReader)+V(PulseTag)
SYMATTR InstName B2
SYMBOL res -576 -288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL cap -704 -288 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 4.7n
SYMBOL res -400 -464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 220k
SYMBOL res 128 -272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 5.1k
SYMBOL res 320 -272 R90
WINDOW 0 85 49 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 220k
SYMBOL Opamps/opamp2 -464 -320 R0
SYMATTR InstName U3
SYMATTR Value TL972
SYMBOL Opamps/opamp2 256 -384 R0
SYMATTR InstName U4
SYMATTR Value TL972
SYMBOL cap -416 -560 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 10p
SYMBOL res -976 -192 M0
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL npn -944 -208 M270
SYMATTR InstName Q1
SYMATTR Value BC547B
SYMBOL res 400 -112 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL cap 464 -128 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C3
SYMATTR Value 1p
SYMBOL res -448 304 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res -448 160 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL res -1120 -288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 100
SYMBOL cap -544 288 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C4
SYMATTR Value 1µ
TEXT -2400 -272 Left 2 !.tran {Pad+NReader*PReader+Sep+NTag/FTag+Pad}
TEXT -2400 -320 Left 2 !.param Pad=100u Sep=30u PReader=20u FTag=50k NReader=5 NTag=10
TEXT -2400 -224 Left 2 !.include models/TL972.lib
